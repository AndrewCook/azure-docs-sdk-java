### YamlMime:ManagedReference
items:
- uid: com.microsoft.azure.cosmosdb.internal.routing._location_cache
  id: _location_cache
  parent: com.microsoft.azure.cosmosdb.internal.routing
  children:
  - com.microsoft.azure.cosmosdb.internal.routing._location_cache.getReadEndpoints()
  - com.microsoft.azure.cosmosdb.internal.routing._location_cache.getWriteEndpoints()
  - com.microsoft.azure.cosmosdb.internal.routing._location_cache.LocationCache(List<String>,URL,boolean,boolean,Configs)
  - com.microsoft.azure.cosmosdb.internal.routing._location_cache.markCurrentLocationUnavailableForRead()
  - com.microsoft.azure.cosmosdb.internal.routing._location_cache.markCurrentLocationUnavailableForWrite()
  - com.microsoft.azure.cosmosdb.internal.routing._location_cache.onDatabaseAccountRead(DatabaseAccount)
  - com.microsoft.azure.cosmosdb.internal.routing._location_cache.resolveServiceEndpoint(RxDocumentServiceRequest)
  - com.microsoft.azure.cosmosdb.internal.routing._location_cache.shouldRefreshEndpoints(Utils.ValueHolder)
  href: com.microsoft.azure.cosmosdb.internal.routing._location_cache.yml
  langs:
  - java
  name: LocationCache
  nameWithType: LocationCache
  fullName: com.microsoft.azure.cosmosdb.internal.routing.LocationCache
  type: Class
  source:
    remote: &o0
      path: gateway/src/main/java/com/microsoft/azure/cosmosdb/internal/routing/LocationCache.java
      branch: master
      repo: https://github.com/Azure/azure-cosmosdb-java
    path: gateway/src/main/java/com/microsoft/azure/cosmosdb/internal/routing/LocationCache.java
    startLine: 52
  package: com.microsoft.azure.cosmosdb.internal.routing
  summary: <p>Implements the abstraction to resolve target location for geo-replicated DatabaseAccount with multiple writable and readable locations. </p>
  syntax:
    content: public class LocationCache
  inheritance:
  - java.lang.Object
- uid: com.microsoft.azure.cosmosdb.internal.routing._location_cache.getReadEndpoints()
  id: getReadEndpoints()
  parent: com.microsoft.azure.cosmosdb.internal.routing._location_cache
  href: com.microsoft.azure.cosmosdb.internal.routing._location_cache.yml
  langs:
  - java
  name: getReadEndpoints()
  nameWithType: LocationCache.getReadEndpoints()
  fullName: com.microsoft.azure.cosmosdb.internal.routing.LocationCache.getReadEndpoints()
  overload: com.microsoft.azure.cosmosdb.internal.routing._location_cache.getReadEndpoints*
  type: Method
  source:
    remote: *o0
    path: gateway/src/main/java/com/microsoft/azure/cosmosdb/internal/routing/LocationCache.java
    startLine: 101
  package: com.microsoft.azure.cosmosdb.internal.routing
  summary: >-
    <p>Gets list of read endpoints ordered by</p>

    <p>1. Preferred location 2. Endpoint availability </p>
  syntax:
    content: public UnmodifiableList<URL> getReadEndpoints()
    return:
      type: 4f2646be
- uid: com.microsoft.azure.cosmosdb.internal.routing._location_cache.getWriteEndpoints()
  id: getWriteEndpoints()
  parent: com.microsoft.azure.cosmosdb.internal.routing._location_cache
  href: com.microsoft.azure.cosmosdb.internal.routing._location_cache.yml
  langs:
  - java
  name: getWriteEndpoints()
  nameWithType: LocationCache.getWriteEndpoints()
  fullName: com.microsoft.azure.cosmosdb.internal.routing.LocationCache.getWriteEndpoints()
  overload: com.microsoft.azure.cosmosdb.internal.routing._location_cache.getWriteEndpoints*
  type: Method
  source:
    remote: *o0
    path: gateway/src/main/java/com/microsoft/azure/cosmosdb/internal/routing/LocationCache.java
    startLine: 116
  package: com.microsoft.azure.cosmosdb.internal.routing
  summary: <p>Gets list of write endpoints ordered by 1. Preferred location 2. Endpoint availability </p>
  syntax:
    content: public UnmodifiableList<URL> getWriteEndpoints()
    return:
      type: 4f2646be
- uid: com.microsoft.azure.cosmosdb.internal.routing._location_cache.LocationCache(List<String>,URL,boolean,boolean,Configs)
  id: LocationCache(List<String>,URL,boolean,boolean,Configs)
  parent: com.microsoft.azure.cosmosdb.internal.routing._location_cache
  href: com.microsoft.azure.cosmosdb.internal.routing._location_cache.yml
  langs:
  - java
  name: LocationCache(List<String> preferredLocations, URL defaultEndpoint, boolean enableEndpointDiscovery, boolean useMultipleWriteLocations, Configs configs)
  nameWithType: LocationCache.LocationCache(List<String> preferredLocations, URL defaultEndpoint, boolean enableEndpointDiscovery, boolean useMultipleWriteLocations, Configs configs)
  fullName: com.microsoft.azure.cosmosdb.internal.routing.LocationCache.LocationCache(List<String> preferredLocations, URL defaultEndpoint, boolean enableEndpointDiscovery, boolean useMultipleWriteLocations, Configs configs)
  overload: com.microsoft.azure.cosmosdb.internal.routing._location_cache.LocationCache*
  type: Constructor
  source:
    remote: *o0
    path: gateway/src/main/java/com/microsoft/azure/cosmosdb/internal/routing/LocationCache.java
    startLine: 72
  package: com.microsoft.azure.cosmosdb.internal.routing
  syntax:
    content: public LocationCache(List<String> preferredLocations, URL defaultEndpoint, boolean enableEndpointDiscovery, boolean useMultipleWriteLocations, Configs configs)
    parameters:
    - id: preferredLocations
      type: 7d60c20e
    - id: defaultEndpoint
      type: a891b3e6
    - id: enableEndpointDiscovery
      type: 4fc6e284
    - id: useMultipleWriteLocations
      type: 4fc6e284
    - id: configs
      type: com.microsoft.azure.cosmosdb.rx.internal._configs
- uid: com.microsoft.azure.cosmosdb.internal.routing._location_cache.markCurrentLocationUnavailableForRead()
  id: markCurrentLocationUnavailableForRead()
  parent: com.microsoft.azure.cosmosdb.internal.routing._location_cache
  href: com.microsoft.azure.cosmosdb.internal.routing._location_cache.yml
  langs:
  - java
  name: markCurrentLocationUnavailableForRead()
  nameWithType: LocationCache.markCurrentLocationUnavailableForRead()
  fullName: com.microsoft.azure.cosmosdb.internal.routing.LocationCache.markCurrentLocationUnavailableForRead()
  overload: com.microsoft.azure.cosmosdb.internal.routing._location_cache.markCurrentLocationUnavailableForRead*
  type: Method
  source:
    remote: *o0
    path: gateway/src/main/java/com/microsoft/azure/cosmosdb/internal/routing/LocationCache.java
    startLine: 128
  package: com.microsoft.azure.cosmosdb.internal.routing
  summary: <p>Marks the current location unavailable for read </p>
  syntax:
    content: public void markCurrentLocationUnavailableForRead()
- uid: com.microsoft.azure.cosmosdb.internal.routing._location_cache.markCurrentLocationUnavailableForWrite()
  id: markCurrentLocationUnavailableForWrite()
  parent: com.microsoft.azure.cosmosdb.internal.routing._location_cache
  href: com.microsoft.azure.cosmosdb.internal.routing._location_cache.yml
  langs:
  - java
  name: markCurrentLocationUnavailableForWrite()
  nameWithType: LocationCache.markCurrentLocationUnavailableForWrite()
  fullName: com.microsoft.azure.cosmosdb.internal.routing.LocationCache.markCurrentLocationUnavailableForWrite()
  overload: com.microsoft.azure.cosmosdb.internal.routing._location_cache.markCurrentLocationUnavailableForWrite*
  type: Method
  source:
    remote: *o0
    path: gateway/src/main/java/com/microsoft/azure/cosmosdb/internal/routing/LocationCache.java
    startLine: 136
  package: com.microsoft.azure.cosmosdb.internal.routing
  summary: <p>Marks the current location unavailable for read </p>
  syntax:
    content: public void markCurrentLocationUnavailableForWrite()
- uid: com.microsoft.azure.cosmosdb.internal.routing._location_cache.onDatabaseAccountRead(DatabaseAccount)
  id: onDatabaseAccountRead(DatabaseAccount)
  parent: com.microsoft.azure.cosmosdb.internal.routing._location_cache
  href: com.microsoft.azure.cosmosdb.internal.routing._location_cache.yml
  langs:
  - java
  name: onDatabaseAccountRead(DatabaseAccount databaseAccount)
  nameWithType: LocationCache.onDatabaseAccountRead(DatabaseAccount databaseAccount)
  fullName: com.microsoft.azure.cosmosdb.internal.routing.LocationCache.onDatabaseAccountRead(DatabaseAccount databaseAccount)
  overload: com.microsoft.azure.cosmosdb.internal.routing._location_cache.onDatabaseAccountRead*
  type: Method
  source:
    remote: *o0
    path: gateway/src/main/java/com/microsoft/azure/cosmosdb/internal/routing/LocationCache.java
    startLine: 145
  package: com.microsoft.azure.cosmosdb.internal.routing
  summary: <p>Invoked when <xref uid="com.microsoft.azure.cosmosdb._database_account" data-throw-if-not-resolved="false">DatabaseAccount</xref> is read </p>
  syntax:
    content: public void onDatabaseAccountRead(DatabaseAccount databaseAccount)
    parameters:
    - id: databaseAccount
      type: com.microsoft.azure.cosmosdb._database_account
      description: <p>Read DatabaseAccount </p>
- uid: com.microsoft.azure.cosmosdb.internal.routing._location_cache.resolveServiceEndpoint(RxDocumentServiceRequest)
  id: resolveServiceEndpoint(RxDocumentServiceRequest)
  parent: com.microsoft.azure.cosmosdb.internal.routing._location_cache
  href: com.microsoft.azure.cosmosdb.internal.routing._location_cache.yml
  langs:
  - java
  name: resolveServiceEndpoint(RxDocumentServiceRequest request)
  nameWithType: LocationCache.resolveServiceEndpoint(RxDocumentServiceRequest request)
  fullName: com.microsoft.azure.cosmosdb.internal.routing.LocationCache.resolveServiceEndpoint(RxDocumentServiceRequest request)
  overload: com.microsoft.azure.cosmosdb.internal.routing._location_cache.resolveServiceEndpoint*
  type: Method
  source:
    remote: *o0
    path: gateway/src/main/java/com/microsoft/azure/cosmosdb/internal/routing/LocationCache.java
    startLine: 176
  package: com.microsoft.azure.cosmosdb.internal.routing
  summary: <p>Resolves request to service endpoint. 1. If this is a write request (a) If UseMultipleWriteLocations = true (i) For document writes, resolve to most preferred and available write endpoint. Once the endpoint is marked unavailable, it is moved to the end of available write endpoint. Current request will be retried on next preferred available write endpoint. (ii) For all other resources, always resolve to first/second (regardless of preferred locations) write endpoint in <xref uid="com.microsoft.azure.cosmosdb._database_account.getWritableLocations()" data-throw-if-not-resolved="false">DatabaseAccount#getWritableLocations()</xref>. Endpoint of first write location in <xref uid="com.microsoft.azure.cosmosdb._database_account.getWritableLocations()" data-throw-if-not-resolved="false">DatabaseAccount#getWritableLocations()</xref> is the only endpoint that supports write operation on all resource types (except during that region's failover). Only during manual failover, client would retry write on second write location in <xref uid="com.microsoft.azure.cosmosdb._database_account.getWritableLocations()" data-throw-if-not-resolved="false">DatabaseAccount#getWritableLocations()</xref>. (b) Else resolve the request to first write endpoint in <xref uid="com.microsoft.azure.cosmosdb._database_account.getWritableLocations()" data-throw-if-not-resolved="false">DatabaseAccount#getWritableLocations()</xref> OR second write endpoint in <xref uid="com.microsoft.azure.cosmosdb._database_account.getWritableLocations()" data-throw-if-not-resolved="false">DatabaseAccount#getWritableLocations()</xref> in case of manual failover of that location. 2. Else resolve the request to most preferred available read endpoint (automatic failover for read requests) </p>
  syntax:
    content: public URL resolveServiceEndpoint(RxDocumentServiceRequest request)
    parameters:
    - id: request
      type: com.microsoft.azure.cosmosdb.rx.internal._rx_document_service_request
      description: <p>Request for which endpoint is to be resolved </p>
    return:
      type: a891b3e6
      description: <p>Resolved endpoint </p>
- uid: com.microsoft.azure.cosmosdb.internal.routing._location_cache.shouldRefreshEndpoints(Utils.ValueHolder)
  id: ValueHolder)
  parent: com.microsoft.azure.cosmosdb.internal.routing._location_cache
  href: com.microsoft.azure.cosmosdb.internal.routing._location_cache.yml
  langs:
  - java
  name: shouldRefreshEndpoints(Utils.ValueHolder canRefreshInBackground)
  nameWithType: LocationCache.shouldRefreshEndpoints(Utils.ValueHolder canRefreshInBackground)
  fullName: com.microsoft.azure.cosmosdb.internal.routing.LocationCache.shouldRefreshEndpoints(Utils.ValueHolder canRefreshInBackground)
  overload: com.microsoft.azure.cosmosdb.internal.routing._location_cache.shouldRefreshEndpoints*
  type: Method
  source:
    remote: *o0
    path: gateway/src/main/java/com/microsoft/azure/cosmosdb/internal/routing/LocationCache.java
    startLine: 199
  package: com.microsoft.azure.cosmosdb.internal.routing
  syntax:
    content: public boolean shouldRefreshEndpoints(Utils.ValueHolder canRefreshInBackground)
    parameters:
    - id: canRefreshInBackground
      type: b4d07c0a
    return:
      type: 4fc6e284
references:
- uid: 7d60c20e
  spec.java:
  - name: List<String>
    fullName: List<String>
- uid: a891b3e6
  spec.java:
  - name: URL
    fullName: URL
- uid: 4fc6e284
  spec.java:
  - name: boolean
    fullName: boolean
- uid: com.microsoft.azure.cosmosdb.internal.routing._location_cache.LocationCache*
  name: LocationCache
  nameWithType: LocationCache.LocationCache
  fullName: com.microsoft.azure.cosmosdb.internal.routing.LocationCache.LocationCache
  package: com.microsoft.azure.cosmosdb.internal.routing
- uid: 4f2646be
  spec.java:
  - name: UnmodifiableList<URL>
    fullName: UnmodifiableList<URL>
- uid: com.microsoft.azure.cosmosdb.internal.routing._location_cache.getReadEndpoints*
  name: getReadEndpoints
  nameWithType: LocationCache.getReadEndpoints
  fullName: com.microsoft.azure.cosmosdb.internal.routing.LocationCache.getReadEndpoints
  package: com.microsoft.azure.cosmosdb.internal.routing
- uid: com.microsoft.azure.cosmosdb.internal.routing._location_cache.getWriteEndpoints*
  name: getWriteEndpoints
  nameWithType: LocationCache.getWriteEndpoints
  fullName: com.microsoft.azure.cosmosdb.internal.routing.LocationCache.getWriteEndpoints
  package: com.microsoft.azure.cosmosdb.internal.routing
- uid: com.microsoft.azure.cosmosdb.internal.routing._location_cache.markCurrentLocationUnavailableForRead*
  name: markCurrentLocationUnavailableForRead
  nameWithType: LocationCache.markCurrentLocationUnavailableForRead
  fullName: com.microsoft.azure.cosmosdb.internal.routing.LocationCache.markCurrentLocationUnavailableForRead
  package: com.microsoft.azure.cosmosdb.internal.routing
- uid: com.microsoft.azure.cosmosdb.internal.routing._location_cache.markCurrentLocationUnavailableForWrite*
  name: markCurrentLocationUnavailableForWrite
  nameWithType: LocationCache.markCurrentLocationUnavailableForWrite
  fullName: com.microsoft.azure.cosmosdb.internal.routing.LocationCache.markCurrentLocationUnavailableForWrite
  package: com.microsoft.azure.cosmosdb.internal.routing
- uid: com.microsoft.azure.cosmosdb.internal.routing._location_cache.onDatabaseAccountRead*
  name: onDatabaseAccountRead
  nameWithType: LocationCache.onDatabaseAccountRead
  fullName: com.microsoft.azure.cosmosdb.internal.routing.LocationCache.onDatabaseAccountRead
  package: com.microsoft.azure.cosmosdb.internal.routing
- uid: com.microsoft.azure.cosmosdb.internal.routing._location_cache.resolveServiceEndpoint*
  name: resolveServiceEndpoint
  nameWithType: LocationCache.resolveServiceEndpoint
  fullName: com.microsoft.azure.cosmosdb.internal.routing.LocationCache.resolveServiceEndpoint
  package: com.microsoft.azure.cosmosdb.internal.routing
- uid: b4d07c0a
  spec.java:
  - name: Utils.ValueHolder
    fullName: Utils.ValueHolder
- uid: com.microsoft.azure.cosmosdb.internal.routing._location_cache.shouldRefreshEndpoints*
  name: shouldRefreshEndpoints
  nameWithType: LocationCache.shouldRefreshEndpoints
  fullName: com.microsoft.azure.cosmosdb.internal.routing.LocationCache.shouldRefreshEndpoints
  package: com.microsoft.azure.cosmosdb.internal.routing
- uid: com.microsoft.azure.cosmosdb.rx.internal._configs
  parent: com.microsoft.azure.cosmosdb.rx.internal
  href: com.microsoft.azure.cosmosdb.rx.internal._configs.yml
  name: Configs
  nameWithType: Configs
  fullName: com.microsoft.azure.cosmosdb.rx.internal.Configs
  type: Class
  syntax:
    content: public class Configs
- uid: com.microsoft.azure.cosmosdb._database_account
  parent: com.microsoft.azure.cosmosdb
  href: com.microsoft.azure.cosmosdb._database_account.yml
  name: DatabaseAccount
  nameWithType: DatabaseAccount
  fullName: com.microsoft.azure.cosmosdb.DatabaseAccount
  type: Class
  summary: <p>Represents a database account in the Azure Cosmos DB database service. </p>
  syntax:
    content: public class DatabaseAccount extends Resource
- uid: com.microsoft.azure.cosmosdb.rx.internal._rx_document_service_request
  parent: com.microsoft.azure.cosmosdb.rx.internal
  href: com.microsoft.azure.cosmosdb.rx.internal._rx_document_service_request.yml
  name: RxDocumentServiceRequest
  nameWithType: RxDocumentServiceRequest
  fullName: com.microsoft.azure.cosmosdb.rx.internal.RxDocumentServiceRequest
  type: Class
  summary: <p>This is core Transport/Connection agnostic request to the Azure Cosmos DB database service. </p>
  syntax:
    content: public class RxDocumentServiceRequest
- uid: com.microsoft.azure.cosmosdb._database_account.getWritableLocations()
  parent: com.microsoft.azure.cosmosdb._database_account
  href: com.microsoft.azure.cosmosdb._database_account.yml
  name: getWritableLocations()
  nameWithType: DatabaseAccount.getWritableLocations()
  fullName: com.microsoft.azure.cosmosdb.DatabaseAccount.getWritableLocations()
  type: Method
  summary: >-
    <p>Gets the list of writable locations for this database account.</p>

    <p></p>
  syntax:
    content: public Iterable<DatabaseAccountLocation> getWritableLocations()
    return:
      type: 2a13b5a5com.microsoft.azure.cosmosdb._database_account_locationa08ddfce
      description: <p>the list of writable locations. </p>
- uid: com.microsoft.azure.cosmosdb._database_account_location
  parent: com.microsoft.azure.cosmosdb
  href: com.microsoft.azure.cosmosdb._database_account_location.yml
  name: DatabaseAccountLocation
  nameWithType: DatabaseAccountLocation
  fullName: com.microsoft.azure.cosmosdb.DatabaseAccountLocation
  type: Class
  summary: <p>Represents the location of a database account in the Azure Cosmos DB database service. </p>
  syntax:
    content: public class DatabaseAccountLocation extends JsonSerializable
